{"ast":null,"code":"import React,{useEffect,useState}from'react';import{fetchSourcing}from'../services/api';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Sourcing=()=>{const[sourcing,setSourcing]=useState([]);const[loading,setLoading]=useState(true);const navigate=useNavigate();useEffect(()=>{const loadSourcing=async()=>{try{const data=await fetchSourcing();setSourcing(data);}catch(error){console.error('Failed to fetch sourcing data:',error);}finally{setLoading(false);}};loadSourcing();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"sourcing-page\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sourcing Records\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/sourcing/new'),style:buttonStyle,children:\"+ Add New Source\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading sourcing data...\"}):sourcing.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No sourcing records found.\"}):/*#__PURE__*/_jsxs(\"table\",{style:tableStyle,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:thStyle,children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{style:thStyle,children:\"Supplier\"}),/*#__PURE__*/_jsx(\"th\",{style:thStyle,children:\"Quantity (kg)\"}),/*#__PURE__*/_jsx(\"th\",{style:thStyle,children:\"Price (\\u20A6)\"}),/*#__PURE__*/_jsx(\"th\",{style:thStyle,children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{style:thStyle,children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sourcing.map(source=>{var _source$quantity,_source$location;return/*#__PURE__*/_jsxs(\"tr\",{style:trStyle,children:[/*#__PURE__*/_jsx(\"td\",{style:tdStyle,children:new Date(source.timestamp).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{style:tdStyle,children:source.supplierName||'-'}),/*#__PURE__*/_jsx(\"td\",{style:tdStyle,children:(_source$quantity=source.quantity)!==null&&_source$quantity!==void 0?_source$quantity:'-'}),/*#__PURE__*/_jsx(\"td\",{style:tdStyle,children:source.price?source.price.toLocaleString():'-'}),/*#__PURE__*/_jsx(\"td\",{style:tdStyle,children:((_source$location=source.location)===null||_source$location===void 0?void 0:_source$location.name)||'-'}),/*#__PURE__*/_jsx(\"td\",{style:tdStyle,children:source.status||'-'})]},source.id||source._id);})})]})]});};const buttonStyle={marginBottom:'1rem',padding:'0.6rem 1.2rem',backgroundColor:'#28a745',border:'none',borderRadius:'4px',color:'white',cursor:'pointer',fontWeight:'bold'};const tableStyle={width:'100%',borderCollapse:'collapse'};const thStyle={borderBottom:'2px solid #ccc',textAlign:'left',padding:'0.5rem 1rem'};const tdStyle={padding:'0.5rem 1rem'};const trStyle={borderBottom:'1px solid #eee'};export default Sourcing;","map":{"version":3,"names":["React","useEffect","useState","fetchSourcing","useNavigate","jsx","_jsx","jsxs","_jsxs","Sourcing","sourcing","setSourcing","loading","setLoading","navigate","loadSourcing","data","error","console","className","children","onClick","style","buttonStyle","length","tableStyle","thStyle","map","source","_source$quantity","_source$location","trStyle","tdStyle","Date","timestamp","toLocaleDateString","supplierName","quantity","price","toLocaleString","location","name","status","id","_id","marginBottom","padding","backgroundColor","border","borderRadius","color","cursor","fontWeight","width","borderCollapse","borderBottom","textAlign"],"sources":["/workspaces/PKBS-Manager/PKBS webapp version/frontend/src/pages/Sourcing.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { fetchSourcing } from '../services/api';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Sourcing = () => {\r\n  const [sourcing, setSourcing] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const loadSourcing = async () => {\r\n      try {\r\n        const data = await fetchSourcing();\r\n        setSourcing(data);\r\n      } catch (error) {\r\n        console.error('Failed to fetch sourcing data:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    loadSourcing();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"sourcing-page\">\r\n      <h1>Sourcing Records</h1>\r\n      <button onClick={() => navigate('/sourcing/new')} style={buttonStyle}>\r\n        + Add New Source\r\n      </button>\r\n\r\n      {loading ? (\r\n        <p>Loading sourcing data...</p>\r\n      ) : sourcing.length === 0 ? (\r\n        <p>No sourcing records found.</p>\r\n      ) : (\r\n        <table style={tableStyle}>\r\n          <thead>\r\n            <tr>\r\n              <th style={thStyle}>Date</th>\r\n              <th style={thStyle}>Supplier</th>\r\n              <th style={thStyle}>Quantity (kg)</th>\r\n              <th style={thStyle}>Price (â‚¦)</th>\r\n              <th style={thStyle}>Location</th>\r\n              <th style={thStyle}>Status</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {sourcing.map((source) => (\r\n              <tr key={source.id || source._id} style={trStyle}>\r\n                <td style={tdStyle}>\r\n                  {new Date(source.timestamp).toLocaleDateString()}\r\n                </td>\r\n                <td style={tdStyle}>{source.supplierName || '-'}</td>\r\n                <td style={tdStyle}>{source.quantity ?? '-'}</td>\r\n                <td style={tdStyle}>\r\n                  {source.price ? source.price.toLocaleString() : '-'}\r\n                </td>\r\n                <td style={tdStyle}>{source.location?.name || '-'}</td>\r\n                <td style={tdStyle}>{source.status || '-'}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst buttonStyle = {\r\n  marginBottom: '1rem',\r\n  padding: '0.6rem 1.2rem',\r\n  backgroundColor: '#28a745',\r\n  border: 'none',\r\n  borderRadius: '4px',\r\n  color: 'white',\r\n  cursor: 'pointer',\r\n  fontWeight: 'bold',\r\n};\r\n\r\nconst tableStyle = {\r\n  width: '100%',\r\n  borderCollapse: 'collapse',\r\n};\r\n\r\nconst thStyle = {\r\n  borderBottom: '2px solid #ccc',\r\n  textAlign: 'left',\r\n  padding: '0.5rem 1rem',\r\n};\r\n\r\nconst tdStyle = {\r\n  padding: '0.5rem 1rem',\r\n};\r\n\r\nconst trStyle = {\r\n  borderBottom: '1px solid #eee',\r\n};\r\n\r\nexport default Sourcing;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}